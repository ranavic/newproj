{% extends 'base.html' %}

{% block title %}Dashboard - SkillForge{% endblock %}

{% block content %}
<!-- Dashboard Header -->
<section class="bg-gradient-to-r from-indigo-600 to-purple-600 text-white py-12">
    <div class="container mx-auto px-4">
        <div class="flex flex-col md:flex-row justify-between items-center">
            <div>
                <h1 class="text-3xl md:text-4xl font-bold mb-2">Welcome, {{ user.first_name|default:user.username }}</h1>
                <p class="text-indigo-100">Your personalized learning dashboard</p>
            </div>
            <div class="mt-6 md:mt-0 flex gap-4">
                <a href="{% url 'course_list' %}" class="bg-white text-indigo-600 hover:bg-indigo-50 py-2 px-6 rounded-lg font-medium shadow-lg flex items-center">
                    <i class="fas fa-book-open mr-2"></i> Browse Courses
                </a>
                <a href="#ai-tutor" class="bg-transparent hover:bg-white hover:text-indigo-600 border-2 border-white py-2 px-6 rounded-lg font-medium transition-all duration-300 flex items-center">
                    <i class="fas fa-robot mr-2"></i> AI Tutor
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Dashboard Stats -->
<section class="py-8 bg-gray-50">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
            <!-- Courses Enrolled -->
            <div class="bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300">
                <div class="flex items-center">
                    <div class="w-14 h-14 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 mr-4">
                        <i class="fas fa-book text-2xl"></i>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">Courses Enrolled</p>
                        <h3 class="text-2xl font-bold">3</h3>
                    </div>
                </div>
                <div class="mt-4">
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div class="bg-indigo-600 h-2.5 rounded-full" style="width: 45%"></div>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">2 in progress, 1 completed</p>
                </div>
            </div>
            
            <!-- Learning Hours -->
            <div class="bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300">
                <div class="flex items-center">
                    <div class="w-14 h-14 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-4">
                        <i class="fas fa-clock text-2xl"></i>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">Learning Hours</p>
                        <h3 class="text-2xl font-bold">18.5</h3>
                    </div>
                </div>
                <div class="mt-4">
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div class="bg-green-500 h-2.5 rounded-full" style="width: 65%"></div>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">+3.5 hours this week</p>
                </div>
            </div>
            
            <!-- Achievements -->
            <div class="bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300">
                <div class="flex items-center">
                    <div class="w-14 h-14 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-600 mr-4">
                        <i class="fas fa-medal text-2xl"></i>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">Achievements</p>
                        <h3 class="text-2xl font-bold">12</h3>
                    </div>
                </div>
                <div class="mt-4">
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div class="bg-yellow-500 h-2.5 rounded-full" style="width: 35%"></div>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">3 new badges unlocked</p>
                </div>
            </div>
            
            <!-- Certificates -->
            <div class="bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300">
                <div class="flex items-center">
                    <div class="w-14 h-14 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 mr-4">
                        <i class="fas fa-certificate text-2xl"></i>
                    </div>
                    <div>
                        <p class="text-gray-500 text-sm">Certificates</p>
                        <h3 class="text-2xl font-bold">1</h3>
                    </div>
                </div>
                <div class="mt-4">
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div class="bg-purple-500 h-2.5 rounded-full" style="width: 15%"></div>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">2 in progress</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Main Dashboard Content -->
<section class="py-10">
    <div class="container mx-auto px-4">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
            <!-- Left Column - Current Courses -->
            <div class="lg:col-span-2">
                <h2 class="text-2xl font-bold mb-6 flex items-center">
                    <i class="fas fa-book-open text-indigo-600 mr-3"></i>
                    Your Current Courses
                </h2>
                
                <div class="space-y-6">
                    <!-- Course 1 -->
                    <div class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300">
                        <div class="flex flex-col md:flex-row">
                            <div class="md:w-1/3 relative">
                                <img src="https://images.unsplash.com/photo-1516116216624-53e697fedbea?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1528&q=80" 
                                     alt="Python Course" class="w-full h-full object-cover">
                                <div class="absolute top-0 right-0 bg-indigo-600 text-white px-3 py-1 m-3 rounded-lg text-sm font-semibold">
                                    <i class="fas fa-fire mr-1"></i> 75% Complete
                                </div>
                            </div>
                            <div class="p-6 md:w-2/3">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <span class="bg-indigo-100 text-indigo-800 text-xs font-semibold px-3 py-1 rounded-full">Programming</span>
                                        <h3 class="text-xl font-semibold mt-2">Python for Data Science</h3>
                                    </div>
                                    <div class="flex">
                                        <span class="text-yellow-400 flex">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star-half-alt"></i>
                                        </span>
                                        <span class="text-gray-500 text-sm ml-1">4.5</span>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-2">
                                        <div class="bg-indigo-600 h-2.5 rounded-full" style="width: 75%"></div>
                                    </div>
                                    <div class="flex justify-between text-sm text-gray-500">
                                        <span>15/20 lessons completed</span>
                                        <span>Last activity: 2 days ago</span>
                                    </div>
                                </div>
                                
                                <div class="mt-6 flex flex-wrap gap-3">
                                    <a href="#" class="btn-primary py-2 px-4 rounded-lg text-sm font-medium flex items-center">
                                        <i class="fas fa-play mr-2"></i> Continue Learning
                                    </a>
                                    <a href="#" class="bg-gray-100 text-gray-700 hover:bg-gray-200 py-2 px-4 rounded-lg text-sm font-medium flex items-center">
                                        <i class="fas fa-robot mr-2"></i> Ask AI Tutor
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Course 2 -->
                    <div class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300">
                        <div class="flex flex-col md:flex-row">
                            <div class="md:w-1/3 relative">
                                <img src="https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" 
                                     alt="Web Development Course" class="w-full h-full object-cover">
                                <div class="absolute top-0 right-0 bg-green-600 text-white px-3 py-1 m-3 rounded-lg text-sm font-semibold">
                                    <i class="fas fa-check-circle mr-1"></i> 30% Complete
                                </div>
                            </div>
                            <div class="p-6 md:w-2/3">
                                <div class="flex justify-between items-start">
                                    <div>
                                        <span class="bg-blue-100 text-blue-800 text-xs font-semibold px-3 py-1 rounded-full">Web Development</span>
                                        <h3 class="text-xl font-semibold mt-2">Full-Stack Web Development</h3>
                                    </div>
                                    <div class="flex">
                                        <span class="text-yellow-400 flex">
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="fas fa-star"></i>
                                            <i class="far fa-star"></i>
                                        </span>
                                        <span class="text-gray-500 text-sm ml-1">4.0</span>
                                    </div>
                                </div>
                                
                                <div class="mt-4">
                                    <div class="w-full bg-gray-200 rounded-full h-2.5 mb-2">
                                        <div class="bg-green-500 h-2.5 rounded-full" style="width: 30%"></div>
                                    </div>
                                    <div class="flex justify-between text-sm text-gray-500">
                                        <span>6/20 lessons completed</span>
                                        <span>Last activity: Today</span>
                                    </div>
                                </div>
                                
                                <div class="mt-6 flex flex-wrap gap-3">
                                    <a href="#" class="btn-primary py-2 px-4 rounded-lg text-sm font-medium flex items-center">
                                        <i class="fas fa-play mr-2"></i> Continue Learning
                                    </a>
                                    <a href="#" class="bg-gray-100 text-gray-700 hover:bg-gray-200 py-2 px-4 rounded-lg text-sm font-medium flex items-center">
                                        <i class="fas fa-users mr-2"></i> Join Study Group
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Achievements -->
                <h2 class="text-2xl font-bold mt-12 mb-6 flex items-center">
                    <i class="fas fa-trophy text-yellow-500 mr-3"></i>
                    Recent Achievements
                </h2>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
                    <!-- Achievement 1 -->
                    <div class="bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 text-center">
                        <div class="w-16 h-16 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-600 mx-auto mb-4">
                            <i class="fas fa-fire text-2xl"></i>
                        </div>
                        <h3 class="font-semibold mb-2">7-Day Streak</h3>
                        <p class="text-sm text-gray-500">Completed lessons 7 days in a row</p>
                        <div class="mt-4 text-xs text-gray-400">Earned 3 days ago</div>
                    </div>
                    
                    <!-- Achievement 2 -->
                    <div class="bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 text-center">
                        <div class="w-16 h-16 rounded-full bg-green-100 flex items-center justify-center text-green-600 mx-auto mb-4">
                            <i class="fas fa-code text-2xl"></i>
                        </div>
                        <h3 class="font-semibold mb-2">Code Master</h3>
                        <p class="text-sm text-gray-500">Completed 10 coding challenges</p>
                        <div class="mt-4 text-xs text-gray-400">Earned 1 week ago</div>
                    </div>
                    
                    <!-- Achievement 3 -->
                    <div class="bg-white rounded-xl p-6 shadow-md hover:shadow-lg transition-all duration-300 text-center">
                        <div class="w-16 h-16 rounded-full bg-purple-100 flex items-center justify-center text-purple-600 mx-auto mb-4">
                            <i class="fas fa-users text-2xl"></i>
                        </div>
                        <h3 class="font-semibold mb-2">Team Player</h3>
                        <p class="text-sm text-gray-500">Participated in 3 study groups</p>
                        <div class="mt-4 text-xs text-gray-400">Earned 2 weeks ago</div>
                    </div>
                </div>
            </div>
            
            <!-- Right Column - AI Tutor and Recommendations -->
            <div>
                <!-- AI Tutor Section -->
                <div class="bg-gradient-to-r from-indigo-600 to-purple-600 rounded-xl p-6 text-white shadow-lg mb-8" id="ai-tutor">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full bg-white bg-opacity-20 flex items-center justify-center mr-4">
                            <i class="fas fa-robot text-2xl"></i>
                        </div>
                        <h2 class="text-xl font-bold">AI Tutor</h2>
                    </div>
                    
                    <p class="mb-6 text-indigo-100">Ask any question about your courses or get help with difficult concepts.</p>
                    
                    <div class="bg-white bg-opacity-10 rounded-lg p-4 backdrop-blur-sm mb-4">
                        <div class="flex items-start mb-3">
                            <div class="w-8 h-8 rounded-full bg-indigo-200 flex items-center justify-center text-indigo-600 mr-3 flex-shrink-0">
                                <i class="fas fa-user text-sm"></i>
                            </div>
                            <div class="text-sm">
                                <p class="text-white">How do I implement a binary search tree in Python?</p>
                                <span class="text-xs text-indigo-200">2 hours ago</span>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="w-8 h-8 rounded-full bg-white flex items-center justify-center text-indigo-600 mr-3 flex-shrink-0">
                                <i class="fas fa-robot text-sm"></i>
                            </div>
                            <div class="text-sm">
                                <p class="text-white">A binary search tree in Python can be implemented using a Node class and recursive methods. Here's a simple implementation:</p>
                                <pre class="bg-indigo-900 bg-opacity-50 p-2 rounded mt-2 overflow-x-auto text-xs text-indigo-100">
class Node:
    def __init__(self, key):
        self.left = None
        self.right = None
        self.val = key

# Insert method
def insert(root, key):
    if root is None:
        return Node(key)
    if key < root.val:
        root.left = insert(root.left, key)
    else:
        root.right = insert(root.right, key)
    return root</pre>
                                <span class="text-xs text-indigo-200">2 hours ago</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="relative">
                        <input type="text" placeholder="Ask your question..." class="w-full bg-white bg-opacity-10 border border-indigo-300 border-opacity-30 rounded-lg py-3 px-4 text-white placeholder-indigo-200 focus:outline-none focus:ring-2 focus:ring-white focus:ring-opacity-40">
                        <button class="absolute right-2 top-2 bg-white text-indigo-600 rounded-lg p-2">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Recommended Courses -->
                <h2 class="text-2xl font-bold mb-6 flex items-center">
                    <i class="fas fa-lightbulb text-yellow-500 mr-3"></i>
                    Recommended For You
                </h2>
                
                <div class="space-y-6">
                    <!-- Recommendation 1 -->
                    <div class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 group">
                        <div class="relative">
                            <img src="https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" 
                                 alt="Machine Learning Course" class="w-full h-40 object-cover transform group-hover:scale-105 transition-transform duration-500">
                            <div class="absolute top-0 right-0 bg-purple-600 text-white px-3 py-1 m-3 rounded-lg text-sm font-semibold">
                                <i class="fas fa-bolt mr-1"></i> Popular
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="flex justify-between items-center mb-2">
                                <span class="bg-purple-100 text-purple-800 text-xs font-semibold px-3 py-1 rounded-full">AI & ML</span>
                                <span class="text-yellow-400 flex">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star-half-alt"></i>
                                    <span class="text-gray-500 text-xs ml-1">4.7</span>
                                </span>
                            </div>
                            <h3 class="font-semibold mb-2">Machine Learning Fundamentals</h3>
                            <p class="text-sm text-gray-500 mb-3">Learn the core concepts of machine learning algorithms and applications.</p>
                            <div class="flex justify-between items-center">
                                <span class="text-indigo-600 font-semibold">Intermediate</span>
                                <a href="#" class="text-sm font-medium text-indigo-600 hover:text-indigo-800">View Course <i class="fas fa-arrow-right ml-1"></i></a>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recommendation 2 -->
                    <div class="bg-white rounded-xl overflow-hidden shadow-md hover:shadow-xl transition-all duration-300 group">
                        <div class="relative">
                            <img src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1470&q=80" 
                                 alt="Mobile App Development" class="w-full h-40 object-cover transform group-hover:scale-105 transition-transform duration-500">
                            <div class="absolute top-0 right-0 bg-green-600 text-white px-3 py-1 m-3 rounded-lg text-sm font-semibold">
                                <i class="fas fa-check-circle mr-1"></i> Beginner Friendly
                            </div>
                        </div>
                        <div class="p-4">
                            <div class="flex justify-between items-center mb-2">
                                <span class="bg-green-100 text-green-800 text-xs font-semibold px-3 py-1 rounded-full">Mobile Dev</span>
                                <span class="text-yellow-400 flex">
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="fas fa-star"></i>
                                    <i class="far fa-star"></i>
                                    <span class="text-gray-500 text-xs ml-1">4.0</span>
                                </span>
                            </div>
                            <h3 class="font-semibold mb-2">Mobile App Development</h3>
                            <p class="text-sm text-gray-500 mb-3">Build cross-platform mobile apps using React Native and Firebase.</p>
                            <div class="flex justify-between items-center">
                                <span class="text-green-600 font-semibold">Beginner</span>
                                <a href="#" class="text-sm font-medium text-indigo-600 hover:text-indigo-800">View Course <i class="fas fa-arrow-right ml-1"></i></a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Learning Schedule -->
                <h2 class="text-2xl font-bold mt-8 mb-6 flex items-center">
                    <i class="fas fa-calendar-alt text-indigo-500 mr-3"></i>
                    Your Schedule
                </h2>
                
                <div class="bg-white rounded-xl p-6 shadow-md">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-semibold">This Week</h3>
                        <a href="#" class="text-indigo-600 text-sm hover:underline">View Calendar</a>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center text-indigo-600 mr-3 flex-shrink-0">
                                <i class="fas fa-video"></i>
                            </div>
                            <div>
                                <h4 class="font-medium">Python for Data Science - Live Session</h4>
                                <p class="text-sm text-gray-500">Today, 7:00 PM - 8:30 PM</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-green-100 flex items-center justify-center text-green-600 mr-3 flex-shrink-0">
                                <i class="fas fa-users"></i>
                            </div>
                            <div>
                                <h4 class="font-medium">Web Development Study Group</h4>
                                <p class="text-sm text-gray-500">Tomorrow, 6:00 PM - 7:30 PM</p>
                            </div>
                        </div>
                        
                        <div class="flex items-start">
                            <div class="w-10 h-10 rounded-full bg-yellow-100 flex items-center justify-center text-yellow-600 mr-3 flex-shrink-0">
                                <i class="fas fa-code"></i>
                            </div>
                            <div>
                                <h4 class="font-medium">Coding Challenge - Algorithms</h4>
                                <p class="text-sm text-gray-500">Saturday, 10:00 AM - 12:00 PM</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
